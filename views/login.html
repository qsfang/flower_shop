<!DOCTYPE html>
<html>
<head>
	<style type="text/css">
		.div1{
			position:relative;
			top:200px;
			float: left;
		}
		.div2{
			position:relative;
			top:200px;
			left: 150px;
			
		}
	
	</style>
	<title>login</title>
	<link rel="shortcut icon" href="static/img/favicon.png" />
    	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

		 <!-- Stylesheets -->
		<link href="static/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
<div class="container" style="width: 500px;">
			<form class="form-horizontal" method="POST" action="/login" >
			  <div class="form-group">
				<label class="div1">{{.NoLogin}}</label><br><br>
			    <label class="div1">请输入帐号：</label>
			    <div class="col-lg-6">
			      <input id="uname" class="div1" name="uname" placeholder="Account">
			    </div>
			  </div>

			  <div class="form-group">
			    <label class="div1">请输入密码：</label>
			    <div class="col-lg-6">
			      <input id="pwd" type="password" class="div1" name="pwd" placeholder="Password">
			    </div>
			  </div>
				
			  <div class="form-group">
			    <div class="div1">
			      <div class="checkbox">
			        <label>
			        	<input name="autoLogin" type="checkbox">下次自动登录
			        </label>
			      </div>
			    </div>
			  </div>

			  <div class="div2">
			<div class="form-group">
				<div class="col-lg-6">
			   		<input type="text" onclick="createAuthCode()"  name="authCode" readonly="readonly" id="authCode" class="unchanged" style="width:50px;background: #F5FFE8;float:left"   />
						<input type="text" id="inputCode"   style="width: 40px;" />
					</div>
				</div>	
			    	<a href="/login"><button type="submit"  onclick="return checkInput();" id="myButton" data-loading-text="Loading..." class="btn btn-primary" autocomplete="off">登录</button></a>
			      	<button onclick="return backToHome();">返回</button>

					
					
					<script>
					  $('#myButton').on('click', function () {
					    var $btn = $(this).button('loading')
					    // business logic...
					    $btn.button('reset')
					  })
					</script>
					
			      	<script type="text/javascript">
				      	function backToHome() {
				      		window.location.href = "/";
				      		return false;
				      	}

				      	function checkInput() {
				      		var uname = document.getElementById("uname");
				      		if (uname.value.length == 0) {
				      			alert("帐号不能为空");
				      			return false;
				      		}

				      		var pwd = document.getElementById("pwd");
				      		if (pwd.value.length == 0) {
				      			alert("密码不能为空");
				      			return false;
				      		}
							var inputCode = document.getElementById("inputCode").value
							 if (inputCode != result) {
					          alert("请输入正确的验证码");
					          window.location.href = "/login";
					          return false;
					        }
				      	}
						var showAuthCode; //在全局 定义验证码
    						var result; //在全局 定义验证码
						    var authCodeTrue
						     function randomNumber(n) {
						        var rnd = "";
						        for (var i = 0; i < n; i++)
						          rnd += Math.floor(Math.random() * 10);
						        return rnd;
						      }
						    function createAuthCode() {
						      showAuthCode = "";
						      var authCode = document.getElementById("authCode");
						     
						
						      var num = randomNumber(2);
						      var num2 = randomNumber(2);
						
						      showAuthCode = num + "+" + num2 + "=";
						      result = parseInt(num) + parseInt(num2)
						
						      if (authCode) {
						        authCode.className = "showAuthCode";
						        authCode.value = showAuthCode;
						      }

    }							
			      	</script>
			
			  </div>
			</form>
		</div>
</body>
</html>